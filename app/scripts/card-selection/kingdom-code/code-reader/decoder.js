"use strict";const Decoder={};Decoder.rsDecoder=new ReedSolomonDecoder(GF256.QR_CODE_FIELD),Decoder.correctErrors=function(e,r){const o=e.length,t=new Array(o);for(var c=0;c<o;c++)t[c]=255&e[c];const d=e.length-r;try{Decoder.rsDecoder.decode(t,d)}catch(e){throw e}for(c=0;c<r;c++)e[c]=t[c]},Decoder.decode=function(e){const r=new BitMatrixParser(e),o=r.readVersion(),t=r.readFormatInformation().ErrorCorrectionLevel,c=r.readCodewords(),d=DataBlock.getDataBlocks(c,o,t);let n=0;for(var a=0;a<d.length;a++)n+=d[a].NumDataCodewords;const s=new Array(n);let D=0;for(let e=0;e<d.length;e++){const r=d[e],o=r.Codewords,t=r.NumDataCodewords;Decoder.correctErrors(o,t);for(a=0;a<t;a++)s[D++]=o[a]}return new QRCodeDataBlockReader(s,o.VersionNumber,t.Bits)};