var CACHE_NAME="kingdom-cache-v1",isDownloadingCards=!1;function openInfoDialog(){if(void 0===infoDialog){infoDialog=$("<div class='dialog dialog-info'></div>").appendTo($("body .main"));var o=$("<div class='dialog-middle'></div>").appendTo(infoDialog),n=$("<div class='dialog-content'></div>").appendTo(o),i=$("<div class='dialog-content-inner'></div>").appendTo(n);createDialog(infoDialog),$("<h1>Kingdom</h1>").appendTo(i),$("<div type='cancel' class='btn-icon btn-dialog-minimize'><i class='material-icons'>close</i></div>").appendTo(i).click(function(){infoDialog.trigger("dialog-close")});var a=$("<div class='dialog-content-text'></div>").appendTo(i);$("<h2 class='subheading'>Generation</h2>").appendTo(a),$("<p>Kingdom is a companion to the Dominion card game, with the goal of generating sets with a variety of interesting card combinations and diverse strategies to engage both new and experienced players.</p>").appendTo(a),$("<h2 class='subheading'>Sharing</h2>").appendTo(a),$("<p>Kingdom also provides a way to share generated sets with other players, so that every player can access all the information on the cards from their own device.</p>").appendTo(a),$("<p class='legal-info'>Created by Joel Launder<br></p>").appendTo(a),$("<h2 class='subheading'>Use Offline</h2>").appendTo(a),$("<p>Download the card images to your device so that you can use Kingdom even when offline. The download is about 70MB so it is recommended you complete the download while connected to a Wi-Fi network.</p>").appendTo(a);var e=$("<div class='btn cache-cards'>Download Cards</div>").appendTo(i);e.on("click",function(){isDownloadingCards?e.html("Download in Progress"):(isDownloadingCards=!0,caches.open(CACHE_NAME).then(function(o){var n=kingdomResourcesCardImages,i=0,a=0;e.html("0/"+n.length);var d=window.setInterval(function(){a>=i&&i<n.length&&(o.add(n[i]),++i),a<i&&(caches.match(n[a]).then(function(o){void 0!==o&&o.ok&&a<i&&++a}),e.html(i+"/"+n.length)),a>=n.length&&(e.html("Done"),isDownloadingCards=!1,window.clearInterval(d))},10)}))});if(void 0!==typeof Storage)try{localStorage.setItem("",""),!0}catch(o){console.error(o)}infoDialog.one("dialog-close",function(){infoDialog=void 0})}}function closeInfoDialog(){void 0!==infoDialog&&infoDialog.trigger("dialog-close")}infoDialog=void 0,$(function(){$("#Kingdom-Info").on("click",function(){openInfoDialog()})});